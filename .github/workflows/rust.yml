name: base-commit-check

on: push

jobs:
  build:
     runs-on: ubuntu-latest

    env:
      CARGO_TERM_COLOR: always

    steps:
      - uses: actions/checkout@v3
 
      - run: |
          rustup set auto-self-update disable
          rustup toolchain install stable --profile minimal
      - uses: ./bot/

      - name: Build
        run: cargo build --verbose
      - name: Run tests
        run: cargo test --verbose
